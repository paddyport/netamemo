(function(t){function e(e){for(var s,a,o=e[0],l=e[1],c=e[2],u=0,h=[];u<o.length;u++)a=o[u],Object.prototype.hasOwnProperty.call(n,a)&&n[a]&&h.push(n[a][0]),n[a]=0;for(s in l)Object.prototype.hasOwnProperty.call(l,s)&&(t[s]=l[s]);d&&d(e);while(h.length)h.shift()();return i.push.apply(i,c||[]),r()}function r(){for(var t,e=0;e<i.length;e++){for(var r=i[e],s=!0,o=1;o<r.length;o++){var l=r[o];0!==n[l]&&(s=!1)}s&&(i.splice(e--,1),t=a(a.s=r[0]))}return t}var s={},n={app:0},i=[];function a(e){if(s[e])return s[e].exports;var r=s[e]={i:e,l:!1,exports:{}};return t[e].call(r.exports,r,r.exports,a),r.l=!0,r.exports}a.m=t,a.c=s,a.d=function(t,e,r){a.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},a.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},a.t=function(t,e){if(1&e&&(t=a(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(a.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var s in t)a.d(r,s,function(e){return t[e]}.bind(null,s));return r},a.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return a.d(e,"a",e),e},a.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},a.p="";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],l=o.push.bind(o);o.push=e,o=o.slice();for(var c=0;c<o.length;c++)e(o[c]);var d=l;i.push([0,"chunk-vendors"]),r()})({0:function(t,e,r){t.exports=r("56d7")},"034f":function(t,e,r){"use strict";var s=r("85ec"),n=r.n(s);n.a},"04e7":function(t,e,r){"use strict";var s=r("374c"),n=r.n(s);n.a},"131e":function(t,e,r){},"374c":function(t,e,r){},4352:function(t,e,r){"use strict";var s=r("9e34"),n=r.n(s);n.a},"46e3":function(t,e,r){"use strict";var s=r("a0d9"),n=r.n(s);n.a},"4a8f":function(t,e,r){"use strict";var s=r("131e"),n=r.n(s);n.a},"4c73":function(t,e,r){},"56d7":function(t,e,r){"use strict";r.r(e);r("e260"),r("e6cf"),r("cca6"),r("a79d");var s=r("2b0e"),n=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{class:[t.deviceType],attrs:{id:"App"}},[r("calendar-container",{attrs:{db:t.db,currentYYMM:{year:t.currentYear,month:t.currentMonth},changeMonthBtnFlg:t.changeMonthBtnFlg,changeMonthFlg:t.changeMonthFlg},on:{tableData:t.setCalendarData,changeMonthData:t.setChangeMonth,CalendarHeadFlg:t.switchChangeMonth,CalendarHeadClick:t.switchChangeMonth,CalendarBodyClick:t.openPosts,CalendarFootClick:t.openAnewField}}),r("menu-container",{attrs:{db:t.db,menuListBtnFlg:t.menuListBtnFlg,menuListFlg:t.menuListFlg},on:{MenuBtnClick:t.switchMenuList}}),r("posts-container",{ref:"posts",attrs:{db:t.db,currentYYMM:{year:t.currentYear,month:t.currentMonth},postsFlg:t.postsFlg},on:{CallCompileBrtoNl:t.compileBrtoNl,PostsCloseClick:t.closePosts,EditTxtMark:t.openEditMarkText,ViewTxtMark:t.openViewTxtMark,ViewSrsMark:t.openViewSrsMark,GetDataSrsPromise:t.getDataSrsPromise}}),r("view-container",{ref:"view",attrs:{db:t.db,viewFlg:t.viewFlg},on:{ViewMarkText:t.openViewTxtMark,EditMarkText:t.openEditMarkText,switchViewClick:t.switchView}}),r("edit-container",{ref:"edit",attrs:{db:t.db,editFlg:t.editFlg},on:{CloseEditClick:t.closeEdit,SwitchLoader:t.switchLoader}}),t.loaderFlg?r("loader-container"):t._e()],1)},i=[],a=(r("a630"),r("c975"),r("fb6a"),r("a9e3"),r("b64b"),r("d3b7"),r("ac1f"),r("6062"),r("3ca3"),r("5319"),r("ddb0"),r("96cf"),r("1da1")),o=r("4dec"),l=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},c=[function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"loader",attrs:{id:"Loader"}},[r("div",[r("div"),r("div"),r("div"),r("div")])])}],d={name:"LoaderContainer"},u=d,h=(r("634f"),r("2877")),g=Object(h["a"])(u,l,c,!1,null,"ef0c03ba",null),v=g.exports,x=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"calendar",attrs:{id:"Calendar"}},[r("calendar-head",{attrs:{currentYYMM:t.currentYYMM,changeMonthBtnFlg:t.changeMonthBtnFlg},on:{HeadFlg:t.$listeners["CalendarHeadFlg"],HeadClick:t.$listeners["CalendarHeadClick"]}}),r("calendar-change-month",{attrs:{changeMonthFlg:t.changeMonthFlg,changeMonthList:t.changeMonthList}}),r("calendar-body",{attrs:{currentDates:t.currentDates,currentFirstDay:t.currentFirstDay},on:{BodyClick:t.$listeners["CalendarBodyClick"]}}),r("calendar-foot",{on:{FootClick:t.$listeners["CalendarFootClick"]}})],1)},T=[],f=r("ade3"),b=r("b85c"),m=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("header",{staticClass:"head"},[r("button",{class:["btnIcon","def","nml","cng",t.changeMonthBtnFlg?"":"isNoActive"],attrs:{type:"button"},on:{click:function(e){return t.onClick()}}},[r("span",[t._v("替")])]),r("h1",[t._v(t._s(t.currentYYMM.year)+"年"+t._s(t.currentYYMM.month+1)+"月")])])},p=[],w={name:"CalendarHead",props:{currentYYMM:Object,changeMonthBtnFlg:Boolean},methods:{onClick:function(){this.$emit("HeadClick")}}},S=w,C=Object(h["a"])(S,m,p,!1,null,null,null),_=C.exports,y=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{class:["change",t.changeMonthFlg?"isShown":""]},[r("ul",t._l(t.changeMonthList,(function(e,s,n){return r("li",{key:n},[r("a",{attrs:{"data-year":s.slice(0,4),"data-month":Number(s.slice(5))+1},on:{click:t.onClick}},[r("i",[t._v("右")]),r("strong",[t._v(t._s(s.slice(0,4))+"年"+t._s(Number(s.slice(5))+1)+"月")]),r("span",{staticClass:"txt"},[t._v(t._s(e["tid"].length))]),r("span",{staticClass:"srs"},[t._v(t._s(e["sid"].length))])])])})),0)])},A=[],k={name:"ChangeMonth",props:{changeMonthFlg:Boolean,changeMonthList:Object},methods:{onClick:function(){this.$emit("buttonClick")}}},D=k,O=Object(h["a"])(D,y,A,!1,null,null,null),M=O.exports,F=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"body"},[r("div",{staticClass:"month"},t._l(t.currentDates,(function(e,s){return r("div",{key:s,staticClass:"day"},[e["txt"].length||e["srs"].length?r("a",{staticClass:"content",attrs:{"data-date":e["date"]},on:{click:t.onBodyClick}},[e["txt"].length?r("p",{staticClass:"txt"},[t._v("文")]):t._e(),e["srs"].length?r("p",{staticClass:"srs"},[t._v("連")]):t._e()]):t._e(),e["date"]?r("div",{staticClass:"index"},[t._v(t._s(e["number"]))]):t._e()])})),0)])},j=[],E={name:"CalendarBody",props:{currentDates:Array,currentFirstDay:Number},methods:{onBodyClick:function(t){var e=t.target,r=Number(e.dataset.date),s=r-1+this.currentFirstDay;this.$emit("BodyClick",{date:r,idx:s})}}},$=E,L=Object(h["a"])($,F,j,!1,null,null,null),B=L.exports,V=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("footer",{staticClass:"footer"},[r("button",{staticClass:"btnText def txt widLG",attrs:{type:"button"},on:{click:function(e){return t.onClick("txt")}}},[t._m(0)]),r("button",{staticClass:"btnText def srs widLG",attrs:{type:"button"},on:{click:function(e){return t.onClick("srs")}}},[t._m(1)])])},N=[function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("span",[r("i"),t._v("新規作成")])},function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("span",[r("i"),t._v("新規作成")])}],Y={name:"CalendarFoot",methods:{onClick:function(t){this.$emit("FootClick",t)}}},P=Y,I=Object(h["a"])(P,V,N,!1,null,null,null),H=I.exports,G={name:"CalendarContainer",props:{db:Object,currentYYMM:Object,changeMonthBtnFlg:Boolean,changeMonthFlg:Boolean},data:function(){return{dayArray:["sun","mon","tue","wed","thu","fri","sat"],currentFirstDay:0,currentDatesCnt:0,currentWeeks:0,currentDates:[],changeMonthList:{}}},components:{CalendarHead:_,CalendarChangeMonth:M,CalendarBody:B,CalendarFoot:H},created:function(){this.setCalendar()},methods:{setCalendar:function(){this.currentFirstDay=new Date(this.currentYYMM.year,this.currentYYMM.month).getDay(),this.currentDatesCnt=this.$parent.getCurrentDates(this.currentYYMM.year,this.currentYYMM.month),this.currentWeeks=Math.ceil((this.currentFirstDay+this.currentDatesCnt)/7),this.currentDates=this.setCalendarArr(),this.setCalendarData()},setCalendarArr:function(){for(var t=[],e=0;e<this.currentWeeks;e++)for(var r=0;r<this.dayArray.length;r++){var s=void 0,n=!e&&r<this.currentFirstDay?null:e*this.dayArray.length+(r+1)-this.currentFirstDay,i=new Date(this.currentYYMM.year,this.currentYYMM.month,n).getTime();n=n&&this.currentDatesCnt<n?null:n,s={date:n,number:n?this.$parent.zeroPad(n,2):null,time:i,txt:[],srs:[],dtid:[],ltid:[]},t.push(s)}return t},setCalendarData:function(){var t=this,e=new Date(t.currentYYMM.year,t.currentYYMM.month).getTime(),r=new Date(t.currentYYMM.year,t.currentYYMM.month+1).getTime();t.db.txt.toArray().then((function(s){var n,i=Object(b["a"])(s);try{for(i.s();!(n=i.n()).done;){var a=n.value,o=new Date(a.date),l=o.getTime(),c=new Date(a.last),d=c.getTime(),u=o.getFullYear(),h=o.getMonth(),g=u+"-"+h;if(e<=l&&l<r){var v=o.getDate()+t.currentFirstDay-1;t.currentDates[v].txt.push(a.tid),t.currentDates[v].txt=t.$parent.compileArrtoArr(t.currentDates[v].txt),t.currentDates[v].dtid.push(a.tid),t.currentDates[v].dtid=t.$parent.compileArrtoArr(t.currentDates[v].dtid)}if(e<=d&&d<r){var x=c.getDate()+t.currentFirstDay-1;t.currentDates[x].txt.push(a.tid),t.currentDates[x].txt=t.$parent.compileArrtoArr(t.currentDates[x].txt),t.currentDates[x].ltid.push(a.tid),t.currentDates[x].ltid=t.$parent.compileArrtoArr(t.currentDates[x].ltid)}t.changeMonthList[g]?t.changeMonthList[g].tid?(t.changeMonthList[g].tid.push(a.tid),t.changeMonthList[g].tid=t.$parent.compileArrtoArr(t.changeMonthList[g].tid)):(t.changeMonthList[g]={tid:[a.tid]},t.changeMonthList[g].sid||(t.changeMonthList[g]={sid:[]})):t.changeMonthList=Object(f["a"])({},g,{tid:[a.tid],sid:[]})}}catch(T){i.e(T)}finally{i.f()}t.$emit("tableDates",t.currentDates),t.$emit("changeMonthData",t.changeMonthList)})),t.db.srs.toArray().then((function(s){var n,i=Object(b["a"])(s);try{for(i.s();!(n=i.n()).done;){var a=n.value,o=new Date(a.date),l=o.getTime(),c=o.getFullYear(),d=o.getMonth(),u=c+"-"+d;if(e<=l&&l<r){var h=o.getDate()+t.currentFirstDay-1;t.currentDates[h].srs.indexOf(a.sid)<0&&t.currentDates[h].srs.push(a.sid)}t.changeMonthList[u]?t.changeMonthList[u].sid?(t.changeMonthList[u].sid.push(a.sid),t.changeMonthList[u].sid=t.$parent.compileArrtoArr(t.changeMonthList[u].sid)):(t.changeMonthList[u]={sid:[a.sid]},t.changeMonthList[u].tid||(t.changeMonthList[u]={tid:[]})):t.changeMonthList=Object(f["a"])({},u,{sid:[a.sid],tid:[]})}}catch(g){i.e(g)}finally{i.f()}t.$emit("tableData",t.currentDates),t.$emit("changeMonthData",t.changeMonthList)}))}}},W=G,R=(r("04e7"),Object(h["a"])(W,x,T,!1,null,null,null)),z=R.exports,J=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"menu",attrs:{id:"Menu"}},[r("ul",{class:["list",t.menuListFlg?"isShown":""]},[t._m(0),t._m(1),r("menu-anew",{attrs:{txtNewArr:t.txtNewArr}}),r("menu-edit",{attrs:{txtEdtArr:t.txtEdtArr}}),r("menu-text",{attrs:{txtArr:t.txtArr}}),r("menu-series",{attrs:{srsArr:t.srsArr}})],1),r("button",{class:["btnIcon","def","nml","menuList",t.menuListBtnFlg?"":"isNoActive"],attrs:{type:"button"},on:{click:t.onClick}},[r("span",[t._v("メニュー")])])])},q=[function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("li",[r("a",{staticClass:"listItem sch trs"},[r("span",[t._v("フリーワード検索")])])])},function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("li",[r("a",{staticClass:"listItem tag trs"},[r("span",[t._v("タグ検索")])])])}],K=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("li",[r("a",{class:["listItem","hst","acc",t.txtNewArr.length?"":"isNoActive"],on:{click:t.onClickNew}},[r("span",[t._v("最近新規作成したテキスト")])]),t.txtNewArr.length?r("ul",{staticClass:"child"},t._l(t.txtNewArr,(function(e,s){return r("li",{key:s},[r("a",{staticClass:"listItem trs",attrs:{"data-tid":e["tid"]}},[r("p",[t._v(t._s(e["head"]))])])])})),0):t._e()])},Q=[],U={name:"MenuAnew",props:{txtNewArr:Array},methods:{onClickNew:function(t){this.$parent.accordionNext(t)}}},X=U,Z=Object(h["a"])(X,K,Q,!1,null,null,null),tt=Z.exports,et=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("li",[r("a",{class:["listItem","edt","acc",t.txtEdtArr.length?"":"isNoActive"],on:{click:t.onClickEdt}},[r("span",[t._v("最近編集したテキスト")])]),t.txtEdtArr.length?r("ul",{staticClass:"child"},t._l(t.txtEdtArr,(function(e,s){return r("li",{key:s},[r("a",{staticClass:"listItem trs",attrs:{"data-tid":e["tid"]}},[r("p",[t._v(t._s(e["head"]))])])])})),0):t._e()])},rt=[],st={name:"MenuEdit",props:{txtEdtArr:Array},methods:{onClickEdt:function(t){this.$parent.accordionNext(t)}}},nt=st,it=Object(h["a"])(nt,et,rt,!1,null,null,null),at=it.exports,ot=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("li",[r("a",{class:["listItem","txt","acc",t.txtArr.length?"":"isNoActive"],on:{click:t.onClickTxt}},[r("span",[t._v("テキスト一覧")])]),t.txtArr.length?r("ul",{staticClass:"child"},t._l(t.txtArr,(function(e,s){return r("li",{key:s},[r("a",{staticClass:"listItem trs",attrs:{"data-tid":e["tid"]}},[r("p",[t._v(t._s(e["head"]))])])])})),0):t._e()])},lt=[],ct={name:"MenuText",props:{txtArr:Array},methods:{onClickTxt:function(t){this.$parent.accordionNext(t)}}},dt=ct,ut=Object(h["a"])(dt,ot,lt,!1,null,null,null),ht=ut.exports,gt=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("li",[r("a",{class:["listItem","srs","acc",t.srsArr.length?"":"isNoActive"],on:{click:t.onClickSrs}},[r("span",[t._v("シリーズ一覧")])]),t.srsArr.length?r("ul",{staticClass:"child"},t._l(t.srsArr,(function(e,s){return r("li",{key:s},[r("a",{staticClass:"listItem trs",attrs:{"data-sid":e["sid"]}},[r("p",[t._v(t._s(e["head"]))])])])})),0):t._e()])},vt=[],xt={name:"MenuSeries",props:{srsArr:Array},methods:{onClickSrs:function(t){this.$parent.accordionNext(t)}}},Tt=xt,ft=Object(h["a"])(Tt,gt,vt,!1,null,null,null),bt=ft.exports,mt={name:"MenuContainer",props:{db:Object,menuListBtnFlg:Boolean,menuListFlg:Boolean},data:function(){return{txtNewArr:[],txtEdtArr:[],txtArr:[],srsArr:[]}},components:{MenuAnew:tt,MenuEdit:at,MenuText:ht,MenuSeries:bt},created:function(){this.setMenuData()},methods:{accordionNext:function(t){var e=t.target,r=e.nextElementSibling;if(e.classList.contains("isOpen"))r.removeAttribute("style"),e.classList.remove("isOpen");else{var s=r.children.length*e.clientHeight;r.style.height=s+"px",e.classList.add("isOpen")}},setMenuData:function(){var t=this;t.db.txt.toArray().then((function(e){var r,s=Object(b["a"])(e);try{for(s.s();!(r=s.n()).done;){var n=r.value,i=n;t.txtArr.push(n),i.datetime=new Date(n.date).getTime(),i.lasttime=new Date(n.last).getTime(),t.txtNewArr.push(i),t.txtNewArr.sort(t.$parent.sortDESC("datetime")),t.txtEdtArr.push(i),t.txtEdtArr.sort(t.$parent.sortDESC("lasttime"))}}catch(a){s.e(a)}finally{s.f()}e.length===t.txtArr.length&&(t.txtNewArr.slice(0,4),t.txtEdtArr.slice(0,4))})),t.db.srs.toArray().then((function(e){var r,s=Object(b["a"])(e);try{for(s.s();!(r=s.n()).done;){var n=r.value;t.srsArr.push(n)}}catch(i){s.e(i)}finally{s.f()}}))},onClick:function(){this.$emit("MenuBtnClick")}}},pt=mt,wt=(r("4a8f"),Object(h["a"])(pt,J,q,!1,null,null,null)),St=wt.exports,Ct=function(){var t=this,e=t.$createElement,r=t._self._c||e;return t.postsFlg?r("div",{staticClass:"posts",attrs:{id:"Posts"}},[r("div",{staticClass:"content"},[r("posts-text",{attrs:{markTxtArr:t.markTxtArr},on:{PostsTxtEdit:t.openEditTxtMark,PostsTxtView:t.$listeners["ViewTxtMark"]}}),r("posts-series",{attrs:{markSrsArr:t.markSrsArr},on:{PostsSrsView:t.$listeners["ViewSrsMark"]}}),t.markTxtArr.length||t.markSrsArr.length?t._e():r("p",{staticClass:"note"},[t._v("登録されていません。")])],1),r("posts-head",{attrs:{currentYYMM:t.currentYYMM,markDate:t.markDate}}),r("button",{staticClass:"icn",attrs:{type:"button"},on:{click:t.onClick}},[t._v("消")])],1):t._e()},_t=[],yt=function(){var t=this,e=t.$createElement,r=t._self._c||e;return t.markTxtArr.length?r("ul",{staticClass:"list"},t._l(t.markTxtArr,(function(e,s){return r("li",{key:s},[r("div",{staticClass:"cardItem"},[e.color?r("i",{style:{color:e.color}}):t._e(),r("h2",[t._v(t._s(e.head))]),r("time",{staticClass:"date"},[t._v(t._s(new Date(e.date).getFullYear())+"年"+t._s(new Date(e.date).getMonth()+1)+"月"+t._s(new Date(e.date).getDate())+"日")]),r("time",{staticClass:"last"},[t._v(t._s(new Date(e.last).getFullYear())+"年"+t._s(new Date(e.last).getMonth()+1)+"月"+t._s(new Date(e.last).getDate())+"日")]),r("p",{attrs:{"data-tid":e.tid}},[r("button",{staticClass:"btnIcon def txt edt",attrs:{type:"button"},on:{click:t.openEditTxt}},[r("span",[t._v("編集")])]),r("button",{staticClass:"btnIcon def txt viw",attrs:{type:"button"},on:{click:t.openViewTxt}},[r("span",[t._v("確認")])]),t._m(0,!0)])])])})),0):t._e()},At=[function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("button",{staticClass:"btnIcon def txt rem",attrs:{type:"button"}},[r("span",[t._v("削除")])])}],kt={name:"PostsText",props:{markTxtArr:Array},methods:{openEditTxt:function(t){var e=t.target,r=e.parentNode.dataset.tid;this.$emit("PostsTxtEdit",r)},openViewTxt:function(t){var e=t.target,r=e.parentNode.dataset.tid;this.$emit("PostsTxtView",r)}}},Dt=kt,Ot=Object(h["a"])(Dt,yt,At,!1,null,null,null),Mt=Ot.exports,Ft=function(){var t=this,e=t.$createElement,r=t._self._c||e;return t.markSrsArr.length?r("ul",{staticClass:"list"},t._l(t.markSrsArr,(function(e,s){return r("li",{key:s},[r("div",{staticClass:"cardItem"},[r("i",{style:{color:e["color"]}}),r("h2",[t._v(t._s(e["head"]))]),r("time",{staticClass:"date"},[t._v(t._s(new Date(e["date"]).getFullYear())+"年"+t._s(new Date(e["date"]).getMonth()+1)+"月"+t._s(new Date(e["date"]).getDate())+"日")]),r("p",{attrs:{"data-sid":e["sid"]}},[t._m(0,!0),r("button",{staticClass:"btnIcon def srs viw",attrs:{type:"button"},on:{click:t.openViewSrs}},[r("span",[t._v("確認")])]),t._m(1,!0)])])])})),0):t._e()},jt=[function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("button",{staticClass:"btnIcon def srs edt",attrs:{type:"button"}},[r("span",[t._v("編集")])])},function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("button",{staticClass:"btnIcon def srs rem",attrs:{type:"button"}},[r("span",[t._v("削除")])])}],Et={name:"PostsSeries",props:{markSrsArr:Array},methods:{openViewSrs:function(t){var e=t.target,r=e.parentNode.dataset.sid;this.$emit("PostsSrsView",r)}}},$t=Et,Lt=Object(h["a"])($t,Ft,jt,!1,null,null,null),Bt=Lt.exports,Vt=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"head"},[r("h1",[t._v(t._s(t.currentYYMM.year)+"年"+t._s(t.currentYYMM.month+1)+"月"+t._s(t.markDate)+"日")])])},Nt=[],Yt={name:"PostsHead",props:{currentYYMM:Object,markDate:Number}},Pt=Yt,It=Object(h["a"])(Pt,Vt,Nt,!1,null,null,null),Ht=It.exports,Gt={name:"PostsContainer",props:{db:Object,currentYYMM:Object,postsFlg:Boolean},data:function(){return{markDate:0,markTxtArr:[],markSrsArr:[],srsArr:{}}},components:{PostsText:Mt,PostsSeries:Bt,PostsHead:Ht},methods:{compileBrtoNl:function(t){var e=String(t);return e.replace(/<br>/,"\r\n")},setPostsData:function(t){this.markDate=t,this.markTxtArr=[],this.markSrsArr=[],this.srsArr={};var e=this,r=new Date(e.currentYYMM.year,e.currentYYMM.month,e.markDate).getTime();e.db.srs.toArray().then((function(t){var s,n=Object(b["a"])(t);try{for(n.s();!(s=n.n()).done;){var i=s.value,a=new Date(i.date).getTime();e.srsArr[i["sid"]]=i["color"],r===a&&e.markSrsArr.push(i),e.markSrsArr=e.$parent.compileArrtoArr(e.markSrsArr)}}catch(o){n.e(o)}finally{n.f()}})),e.db.txt.toArray().then((function(t){var s,n=Object(b["a"])(t);try{for(n.s();!(s=n.n()).done;){var i=s.value,a=new Date(i.date).getTime(),o=new Date(i.last).getTime(),l=i;l["color"]=i["sid"]?e.srsArr[i["sid"]]:"transparent",r===a&&e.markTxtArr.push(l),r===o&&e.markTxtArr.push(l),e.markTxtArr=e.$parent.compileArrtoArr(e.markTxtArr)}}catch(c){n.e(c)}finally{n.f()}}))},onClick:function(){this.$emit("PostsCloseClick")},getDataSrs:function(t){var e=this;return new Promise((function(r){e.db.srs.get(t).then((function(t){r(t)}))}))},openEditTxtMark:function(t){var e=this;return Object(a["a"])(regeneratorRuntime.mark((function r(){var s,n,i,a,o,l;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:s=e,n=Number(t),i={txt:{},srs:{},tag:[]},a=Object(b["a"])(s.markTxtArr),r.prev=3,a.s();case 5:if((o=a.n()).done){r.next=20;break}if(l=o.value,l.tid!=n){r.next=18;break}if(i.txt=l,i.txt.body=s.compileBrtoNl(l.body),i.tag=l.tag,l.sid){r.next=14;break}return s.$emit("EditTxtMark",i),r.abrupt("return");case 14:return r.next=16,s.getDataSrs(l.sid);case 16:i.srs=r.sent,s.$emit("EditTxtMark",i);case 18:r.next=5;break;case 20:r.next=25;break;case 22:r.prev=22,r.t0=r["catch"](3),a.e(r.t0);case 25:return r.prev=25,a.f(),r.finish(25);case 28:case"end":return r.stop()}}),r,null,[[3,22,25,28]])})))()}}},Wt=Gt,Rt=(r("46e3"),Object(h["a"])(Wt,Ct,_t,!1,null,null,null)),zt=Rt.exports,Jt=function(){var t=this,e=t.$createElement,r=t._self._c||e;return t.viewFlg?r("div",{staticClass:"view",attrs:{id:"View"}},[t.viewTxtFlg?r("view-text-container",{attrs:{viewClass:"txt"==t.frontFlg&&t.viewSrsFlg?"front":"",viewTxtTxtObj:t.viewTxtTxtObj,viewTxtSrsObj:t.viewTxtSrsObj,viewTxtTagArr:t.viewTxtTagArr,viewTxtBody:t.viewTxtBody},on:{EditMarkTextClick:t.$listeners["EditMarkText"],CloseViewTxtClick:t.closeViewTxt}}):t._e(),t.viewSrsFlg?r("view-series-container",{attrs:{viewClass:"srs"==t.frontFlg&&t.viewTxtFlg?"front":"",viewSrsSrsObj:t.viewSrsSrsObj,viewSrsTxtArr:t.viewSrsTxtArr,viewSrsTagArr:t.viewSrsTagArr,viewSrsBody:t.viewSrsBody},on:{ViewMarkTextClick:t.$listeners["ViewMarkText"],CloseViewSrsClick:t.closeViewSrs}}):t._e()],1):t._e()},qt=[],Kt=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{class:["txt",t.viewClass]},[r("view-text-content",{attrs:{viewTxtHead:t.viewTxtTxtObj.head,viewTxtBody:t.viewTxtBody}}),t.viewTxtTxtObj.sid?r("view-text-srsname",{attrs:{viewTxtSrsId:t.viewTxtSrsObj.sid,viewTxtSrsName:t.viewTxtSrsObj.head,viewTxtSrsColor:t.viewTxtSrsObj.color}}):t._e(),t.viewTxtTxtObj.tag.length?r("view-text-tags",{attrs:{viewTxtTagArr:t.viewTxtTagArr}}):t._e(),r("view-text-foot",{on:{EditTextClick:t.editText}}),r("button",{staticClass:"icn",attrs:{type:"button"},on:{click:t.closeView}},[t._v("消")])],1)},Qt=[],Ut=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"content"},[r("div",{staticClass:"head"},[r("div",[t._v(t._s(t.viewTxtHead))])]),r("div",{staticClass:"body"},[r("div",[t._v(t._s(t.viewTxtBody))])])])},Xt=[],Zt={name:"ViewTextContent",props:{viewTxtHead:String,viewTxtBody:String}},te=Zt,ee=Object(h["a"])(te,Ut,Xt,!1,null,null,null),re=ee.exports,se=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"series",attrs:{"data-sid":t.viewTxtSrsId}},[r("i",{style:{color:t.viewTxtSrsColor}}),r("p",[t._v(t._s(t.viewTxtSrsName))])])},ne=[],ie={name:"ViewTextSrsname",props:{viewTxtSrsId:Number,viewTxtSrsName:String,viewTxtSrsColor:String}},ae=ie,oe=Object(h["a"])(ae,se,ne,!1,null,null,null),le=oe.exports,ce=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"tag"},[r("p",{class:t.viewTxtTagFlg?"isShown":""},t._l(t.viewTxtTagArr,(function(e,s){return r("span",{key:s,attrs:{"data-tag":e}},[t._v(t._s(e))])})),0),r("button",{staticClass:"icn tag",attrs:{type:"button"},on:{click:t.switchViewTags}},[t._v("箋")])])},de=[],ue={name:"ViewTxtTags",props:{viewTxtTagArr:Array},data:function(){return{viewTxtTagFlg:!1}},methods:{switchViewTags:function(){this.viewTxtTagFlg=!this.viewTxtTagFlg}}},he=ue,ge=Object(h["a"])(he,ce,de,!1,null,null,null),ve=ge.exports,xe=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"foot"},[r("button",{staticClass:"btnText def txt edt widLG",attrs:{type:"button"},on:{click:t.edit}},[t._m(0)]),t._m(1)])},Te=[function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("span",[r("i"),t._v("編集")])},function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("button",{staticClass:"btnText def nml rem widLG",attrs:{type:"button"}},[r("span",[r("i"),t._v("削除")])])}],fe={name:"ViewTextFoot",methods:{edit:function(){this.$emit("EditTextClick")}}},be=fe,me=Object(h["a"])(be,xe,Te,!1,null,null,null),pe=me.exports,we={name:"ViewTextContainer",props:{viewClass:String,viewTxtTxtObj:Object,viewTxtSrsObj:Object,viewTxtTagArr:Array,viewTxtBody:String},components:{ViewTextContent:re,ViewTextSrsname:le,ViewTextTags:ve,ViewTextFoot:pe},methods:{editText:function(){this.viewTxtTxtObj.body=this.viewTxtBody;var t={txt:this.viewTxtTxtObj,srs:this.viewTxtSrsObj,tag:this.viewTxtTagArr};this.$emit("EditMarkTextClick",t)},closeView:function(){console.log("a"),this.$emit("CloseViewTxtClick")}}},Se=we,Ce=Object(h["a"])(Se,Kt,Qt,!1,null,null,null),_e=Ce.exports,ye=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{class:["srs",t.viewClass]},[r("view-series-content",{attrs:{viewSrsHead:t.viewSrsSrsObj.head,viewSrsBody:t.viewSrsBody,viewSrsTxtArr:t.viewSrsTxtArr,viewSrsColor:t.viewSrsSrsObj.color},on:{ItemClickView:t.$listeners["ViewMarkTextClick"]}}),r("view-series-srsname",{attrs:{viewSrsSrsId:t.viewSrsSrsObj.sid,viewSrsSrsName:t.viewSrsSrsObj.head,viewSrsSrsColor:t.viewSrsSrsObj.color}}),t.viewSrsSrsObj.tag?r("view-series-tags",{attrs:{viewSrsTagArr:t.viewSrsTagArr}}):t._e(),t._m(0),r("button",{staticClass:"icn",attrs:{type:"button"},on:{click:t.closeView}},[t._v("消")])],1)},Ae=[function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"foot"},[r("button",{staticClass:"btnText def srs edt widLG",attrs:{type:"button"}},[r("span",[r("i"),t._v("編集")])]),r("button",{staticClass:"btnText def nml rem widLG",attrs:{type:"button"}},[r("span",[r("i"),t._v("削除")])])])}],ke=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"content"},[r("div",{staticClass:"head"},[r("div",[t._v(t._s(t.viewSrsHead))])]),r("div",{staticClass:"body"},[r("div",[t._v(t._s(t.viewSrsBody))])]),r("div",{staticClass:"list"},[t.viewSrsTxtArr.length?r("ul",t._l(t.viewSrsTxtArr,(function(e,s){return r("li",{key:s},[r("div",{staticClass:"cardItem"},[r("i",{style:{color:t.viewSrsColor}}),r("h2",[t._v(t._s(e.head))]),r("time",{staticClass:"date"},[t._v(t._s(new Date(e.date).getFullYear())+"年"+t._s(new Date(e.date).getMonth()+1)+"月"+t._s(new Date(e.date).getDate())+"日")]),r("time",{staticClass:"last"},[t._v(t._s(new Date(e.last).getFullYear())+"年"+t._s(new Date(e.last).getMonth()+1)+"月"+t._s(new Date(e.last).getDate())+"日")]),r("p",{attrs:{"data-tid":e.tid}},[r("button",{staticClass:"btnIcon def txt viw",attrs:{type:"button"},on:{click:t.onClickView}},[r("span",[t._v("確認")])])])])])})),0):r("p",[t._v("登録されていません。")])])])},De=[],Oe={name:"ViewSeriesContent",props:{viewSrsHead:String,viewSrsBody:String,viewSrsTxtArr:Array,viewSrsColor:String},methods:{onClickView:function(t){var e=t.target,r=e.parentNode.getAttribute("data-tid");console.log(r),this.$emit("ItemClickView",r)}}},Me=Oe,Fe=Object(h["a"])(Me,ke,De,!1,null,null,null),je=Fe.exports,Ee=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"series",attrs:{"data-sid":t.viewSrsSrsId}},[r("i",{style:{color:t.viewSrsSrsColor}}),r("p",[t._v(t._s(t.viewSrsSrsName))])])},$e=[],Le={name:"ViewSeriesSrsname",props:{viewSrsSrsId:Number,viewSrsSrsName:String,viewSrsSrsColor:String}},Be=Le,Ve=Object(h["a"])(Be,Ee,$e,!1,null,null,null),Ne=Ve.exports,Ye=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"tag"},[r("p",{class:t.viewSrsTagFlg?"isShown":""},t._l(t.viewSrsTagArr,(function(e,s){return r("span",{key:s,attrs:{"data-tag":e}},[t._v(t._s(e))])})),0),r("button",{staticClass:"icn tag",attrs:{type:"button"},on:{click:t.switchViewTags}},[t._v("箋")])])},Pe=[],Ie={name:"ViewTxtTags",props:{viewSrsTagArr:Array},data:function(){return{viewSrsTagFlg:!1}},methods:{switchViewTags:function(){this.viewSrsTagFlg=!this.viewSrsTagFlg}}},He=Ie,Ge=Object(h["a"])(He,Ye,Pe,!1,null,null,null),We=Ge.exports,Re={name:"ViewSeriesContainer",props:{viewClass:String,viewSrsSrsObj:Object,viewSrsTxtArr:Array,viewSrsTagArr:Array,viewSrsBody:String},components:{ViewSeriesContent:je,ViewSeriesSrsname:Ne,ViewSeriesTags:We},methods:{closeView:function(){this.$emit("CloseViewSrsClick")}}},ze=Re,Je=Object(h["a"])(ze,ye,Ae,!1,null,null,null),qe=Je.exports,Ke={name:"ViewContainer",props:{db:Object,viewFlg:Boolean},data:function(){return{frontFlg:"",viewTxtFlg:!1,viewTxtTxtObj:{},viewTxtSrsObj:{},viewTxtTagArr:[],viewTxtBody:"",viewSrsFlg:!1,viewSrsSrsObj:{},viewSrsTxtArr:[],viewSrsTagArr:[],viewSrsBody:""}},components:{ViewTextContainer:_e,ViewSeriesContainer:qe},methods:{compileBrtoNl:function(t){var e=String(t);return e.replace(/<br>/,"\r\n")},setTxtData:function(t,e){var r=this,s={tid:t};console.log(e),r.db.txt.get(s).then((function(t){e?(r.viewTxtSrsObj={},t.sid&&r.setSrsData(Number(t.sid)),r.viewTxtTxtObj=t,r.viewTxtBody=r.compileBrtoNl(t.body),r.viewTxtTagArr=t.tag,r.viewTxtFlg=!0,r.frontFlg="txt"):r.viewSrsTxtArr.push(t)}))},setSrsData:function(t,e){var r=this,s={sid:t};r.db.srs.get(s).then((function(t){if(e){if(r.viewSrsTxtArr=[],t.tid){var s,n=Object(b["a"])(t.tid);try{for(n.s();!(s=n.n()).done;){var i=s.value;r.setTxtData(Number(i))}}catch(a){n.e(a)}finally{n.f()}}console.log(t),r.viewSrsSrsObj=t,r.viewSrsBody=r.compileBrtoNl(t.body),r.viewSrsTagArr=t.tag,r.viewSrsFlg=!0,r.frontFlg="srs"}else r.viewTxtSrsObj=t}))},checkCloseView:function(){this.viewTxtFlg||this.viewSrsFlg||(this.frontFlg="",this.$emit("switchViewClick"))},closeViewTxt:function(){this.viewTxtTxtObj={},this.viewTxtFlg=!1,this.frontFlg="srs",this.checkCloseView()},closeViewSrs:function(){this.viewSrsSrsObj={},this.viewSrsFlg=!1,this.frontFlg="txt",this.checkCloseView()}}},Qe=Ke,Ue=(r("4352"),Object(h["a"])(Qe,Jt,qt,!1,null,"f6eba69e",null)),Xe=Ue.exports,Ze=function(){var t=this,e=t.$createElement,r=t._self._c||e;return t.editFlg?r("div",{staticClass:"edit",attrs:{id:"Edit"}},[t.editTxtFlg?r("edit-text-container",{attrs:{db:t.db,editTxtTxtObj:t.editTxtTxtObj,editTxtSrsObj:t.editTxtSrsObj,editTxtTagArr:t.editTxtTagArr},on:{FootTxtClick:t.editTxtFootClick,CallSwitchLoader:t.$listeners["SwitchLoader"]}}):t._e()],1):t._e()},tr=[],er=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"txt",attrs:{"data-tid":t.editTxtTxtObj.tid}},[r("div",{staticClass:"content"},[r("div",{staticClass:"head"},[r("div",{attrs:{contenteditable:"true"},on:{blur:t.changeEditTxtHead}},[t._v(t._s(t.editTxtTxtObj.head))])]),r("edit-text-srsname",{attrs:{db:t.db,editTxtSrsObj:t.editTxtSrsObj},on:{SelectEditTxtSrsObj:t.selectEditTxtSrs}}),r("edit-text-tags",{attrs:{db:t.db,editTxtTagArr:t.editTxtTagArr},on:{SelectEditTxtTagArr:t.selectEditTxtTag}}),r("div",{staticClass:"body"},[r("div",{attrs:{contenteditable:"true"},on:{blur:t.changeEditTxtBody}},[t._v(t._s(t.editTxtTxtObj.body))])])],1),r("edit-text-foot",{on:{FootClickClose:t.$listeners["FootTxtClick"],FootClickSave:t.setSaveData,CallSwitchLoaderSave:t.$listeners["CallSwitchLoader"]}})],1)},rr=[],sr=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"series"},[r("button",{class:[Object.keys(t.DeditTxtSrsObj).length||t.selectSrsnameFlg?"btnIcon":"btnWord","def","srs"],attrs:{type:"button"},on:{click:t.switchFlg}},[Object.keys(t.DeditTxtSrsObj).length||t.selectSrsnameFlg?r("span",[r("i")]):r("span",[r("i"),t._v("編集")])]),Object.keys(t.DeditTxtSrsObj).length&&!t.selectSrsnameFlg?r("p",{attrs:{"data-sid":t.DeditTxtSrsObj.sid}},[t._v(" "+t._s(t.DeditTxtSrsObj.head)+" "),r("button",{staticClass:"icn",attrs:{type:"button"},on:{click:t.remSrsName}},[t._v("消")])]):t._e(),t.selectSrsnameFlg?r("div",{staticClass:"field"},[r("p",[r("input",{attrs:{type:"text",placeholder:"シリーズ"},on:{focus:t.suggestSrsName,keydown:t.suggestSrsName}}),r("button",{class:["btnWord","def","nml","widSM",t.inputSrsnameFlg?"":"isNoActive"],attrs:{type:"button"},on:{click:t.selectSrsName}},[r("span",[t._v("追加")])])]),t.suggestSrsArr.length?r("ul",t._l(t.suggestSrsArr,(function(e,s){return r("li",{key:s},[r("a",{attrs:{"data-sid":e.sid},on:{click:t.selectSrsName}},[t._v(t._s(e.head))])])})),0):t._e()]):t._e()])},nr=[],ir={name:"EditTextSrsname",props:{db:Object,editTxtSrsObj:Object},data:function(){return{DeditTxtSrsObj:this.editTxtSrsObj,selectSrsnameFlg:!1,inputSrsnameFlg:!1,suggestSrsArr:[],srsLength:0}},methods:{switchFlg:function(){this.selectSrsnameFlg=!this.selectSrsnameFlg},suggestSrsName:function(t){var e=this,r=t.target.value;e.db.srs.toArray().then((function(t){if(r){e.suggestSrsArr=[],e.inputSrsnameFlg=!0;var s,n=Object(b["a"])(t);try{for(n.s();!(s=n.n()).done;){var i=s.value;i.head.indexOf(r)>-1&&e.suggestSrsArr.push(i)}}catch(a){n.e(a)}finally{n.f()}}else e.suggestSrsArr=t,e.inputSrsnameFlg=!1,e.srsLength=e.suggestSrsArr.length}))},selectSrsName:function(t){var e=t.target,r=e.getAttribute("data-sid"),s=r?Number(e.getAttribute("data-sid")):this.srsLength+1,n=r?e.textContent:e.previousElementSibling.value;this.DeditTxtSrsObj.sid=s,this.DeditTxtSrsObj.head=n;var i,a=Object(b["a"])(this.suggestSrsArr);try{for(a.s();!(i=a.n()).done;){var o=i.value;o.head==n&&(this.DeditTxtSrsObj=o)}}catch(l){a.e(l)}finally{a.f()}this.suggestSrsArr=[],this.selectSrsnameFlg=!1,this.$emit("SelectEditTxtSrsObj",this.DeditTxtSrsObj)},remSrsName:function(){this.DeditTxtSrsObj={},this.$emit("SelectEditTxtSrsObj",this.DeditTxtSrsObj)}}},ar=ir,or=Object(h["a"])(ar,sr,nr,!1,null,null,null),lr=or.exports,cr=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"tags"},[r("button",{class:[t.DeditTxtTagArr.length||t.selectTagFlg?"btnIcon":"btnWord","def","tag","nml"],attrs:{type:"button"},on:{click:t.switchFlg}},[t.DeditTxtTagArr.length||t.selectTagFlg?r("span",[r("i")]):r("span",[r("i"),t._v("編集")])]),t.selectTagFlg?r("div",{staticClass:"field"},[r("p",[r("input",{attrs:{type:"text",placeholder:"タグ"},on:{focus:t.suggestTags,keydown:t.suggestTags}}),r("button",{staticClass:"btnWord def nml widSM",attrs:{type:"button"},on:{click:t.addSelectTag}},[r("span",[t._v("追加")])])]),t.suggestTagArr.length?r("ul",t._l(t.suggestTagArr,(function(e,s){return r("li",{key:s},[r("a",{attrs:{"data-tag":e},on:{click:t.addSelectTag}},[t._v(t._s(e))])])})),0):t._e()]):t._e(),t.DeditTxtTagArr.length?r("div",{staticClass:"area"},[r("ul",t._l(t.DeditTxtTagArr,(function(e,s){return r("li",{key:s},[r("a",{attrs:{"data-tag":e},on:{click:t.remSelectTag}},[t._v(t._s(e))])])})),0)]):t._e()])},dr=[],ur=(r("a434"),{name:"EditTextTags",props:{db:Object,editTxtTagArr:Array},data:function(){return{DeditTxtTagArr:this.editTxtTagArr,selectTagFlg:!1,inputTagFlg:!1,suggestTagArr:[],tagLength:0}},methods:{switchFlg:function(){this.selectTagFlg=!this.selectTagFlg},suggestTags:function(t){var e=this,r=t.target.value;e.suggestTagArr=[],e.db.tag.toArray().then((function(t){if(r){e.inputTagFlg=!0;var s,n=Object(b["a"])(t);try{for(n.s();!(s=n.n()).done;){var i=s.value;e.editTxtTagArr.indexOf(i.head)<0&&i.head.indexOf(r)>-1&&e.suggestTagArr.push(i.head)}}catch(c){n.e(c)}finally{n.f()}}else{var a,o=Object(b["a"])(t);try{for(o.s();!(a=o.n()).done;){var l=a.value;e.editTxtTagArr.indexOf(l.head)<0&&e.suggestTagArr.push(l.head)}}catch(c){o.e(c)}finally{o.f()}e.inputTagFlg=!1,e.tagLength=e.suggestTagArr.length}}))},addSelectTag:function(t){var e=t.target,r=e.getAttribute("data-tag"),s=r?e.textContent:e.previousElementSibling.value;this.DeditTxtTagArr.indexOf(s)>-1||(this.DeditTxtTagArr.push(s),this.suggestTagArr=[],this.$emit("SelectEditTxtTagArr",this.DeditTxtTagArr))},remSelectTag:function(t){var e=t.target,r=e.textContent;console.log(this.DeditTxtTagArr.indexOf(r)),this.DeditTxtTagArr.splice(this.DeditTxtTagArr.indexOf(r),1),this.$emit("SelectEditTxtTagArr",this.DeditTxtTagArr)}}}),hr=ur,gr=Object(h["a"])(hr,cr,dr,!1,null,null,null),vr=gr.exports,xr=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"foot"},[r("button",{staticClass:"btnText def nml widLG",attrs:{type:"button"},on:{click:t.onClickClose}},[t._m(0)]),r("button",{staticClass:"btnText def txt widLG",attrs:{type:"button"},on:{click:t.onClickSave}},[t._m(1)])])},Tr=[function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("span",[r("span",[t._v("キャンセル")])])},function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("span",[r("i"),t._v("保存")])}],fr={name:"EditTextFoot",methods:{onClickClose:function(){this.$emit("FootClickClose","cls")},onClickSave:function(){this.$emit("CallSwitchLoaderSave"),this.$emit("FootClickSave","sav")}}},br=fr,mr=Object(h["a"])(br,xr,Tr,!1,null,null,null),pr=mr.exports,wr={name:"EditTextContainer",props:{db:Object,editTxtTxtObj:Object,editTxtSrsObj:Object,editTxtTagArr:Array},components:{EditTextSrsname:lr,EditTextTags:vr,EditTextFoot:pr},data:function(){return{DeditTxtTxtObj:this.editTxtTxtObj,DeditTxtSrsObj:this.editTxtSrsObj,DeditTxtTagArr:this.editTxtTagArr}},methods:{changeEditTxtHead:function(t){var e=t.target.textContent;this.DeditTxtTxtObj.head=e||this.DeditTxtTxtObj.head,t.target.textContent=this.DeditTxtTxtObj.head,console.log(e,Boolean(e),this.DeditTxtTxtObj.head)},changeEditTxtBody:function(t){var e=t.target.textContent;this.DeditTxtTxtObj.body=e||this.DeditTxtTxtObj.body,t.target.textContent=this.DeditTxtTxtObj.body},selectEditTxtSrs:function(t){this.DeditTxtSrsObj=t},selectEditTxtTag:function(t){this.DeditTxtTagArr=t},setSaveData:function(){var t=this,e=new Date;t.db.txt.put({tid:t.DeditTxtTxtObj.tid,sid:t.DeditTxtSrsObj.sid?t.DeditTxtSrsObj.sid:null,tag:t.DeditTxtTagArr,date:t.DeditTxtTxtObj.date,last:e.getFullYear()+"/"+(e.getMonth()+1)+"/"+e.getDate(),head:t.DeditTxtTxtObj.head,body:t.DeditTxtTxtObj.body}).then((function(){t.$emit("FootTxtClick","sav",t.DeditTxtTxtObj.tid),t.$emit("CallSwitchLoader")}))}}},Sr=wr,Cr=Object(h["a"])(Sr,er,rr,!1,null,null,null),_r=Cr.exports,yr={name:"EditContainer",props:{db:Object,editFlg:Boolean,editTxtObj:Object},data:function(){return{editTxtFlg:!1,editTxtTxtObj:{},editTxtSrsObj:{},editTxtTagArr:[]}},components:{EditTextContainer:_r},methods:{setEditTxtData:function(t){this.editTxtFlg=!0,this.editTxtTxtObj=t.txt,this.editTxtSrsObj=t.srs,this.editTxtTagArr=t.tag},editTxtFootClick:function(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];var s=e[0],n=e[1];"cls"!=s&&"sav"!=s||(this.editTxtFlg=!1,this.editTxtTxtObj={},this.editTxtSrsObj={},this.editTxtTagArr=[],"cls"==s&&this.$emit("CloseEditClick"),"sav"==s&&this.$emit("CloseEditClick",n))}}},Ar=yr,kr=(r("cf2f"),Object(h["a"])(Ar,Ze,tr,!1,null,"27874558",null)),Dr=kr.exports,Or=s["a"].extend({name:"App",props:{},data:function(){return{loaderFlg:!0,dbName:"netamemoDB",db:"",dbData:[],now:"",nowTime:0,current:"",currentYear:0,currentMonth:0,currentDates:[],changeMonthList:{},changeMonthBtnFlg:!1,changeMonthFlg:!1,menuListBtnFlg:!0,menuListFlg:!1,markDate:0,postsFlg:!1,viewFlg:!1,editFlg:!1,currentField:"",currentEdit:"",anewFieldFlg:!1}},components:{LoaderContainer:v,CalendarContainer:z,MenuContainer:St,PostsContainer:zt,ViewContainer:Xe,EditContainer:Dr},created:function(){this.checkDevice(),this.setToday(),this.createDB(),this.createTable(),this.markDate=this.now.getDate(),this.switchLoader()},methods:{checkDevice:function(){var t=navigator.userAgent.toLowerCase();t.indexOf("iphone")>0||t.indexOf("ipod")>0||t.indexOf("android")>0&&t.indexOf("mobile")>0||t.indexOf("ipad")>0||t.indexOf("android")>0?this.deviceType="isTD":this.deviceType="isMD"},compileArrtoArr:function(t){var e=new Set(t);return Array.from(e)},compileNltoBr:function(t){var e=String(t);return e.replace(/<div>/,"\r\n").replace(/<\/div>/,"")},compileBrtoNl:function(t){var e=String(t);return e.replace(/<br>/,"\r\n")},zeroPad:function(t,e){return("0000"+t).slice(-e)},getCurrentDates:function(t,e){return new Date(parseInt(t,10),parseInt(e+1,10),0).getDate()},sortASC:function(t){return function(e,r){return e[t]<r[t]?-1:e[t]>r[t]?1:0}},sortDESC:function(t){return function(e,r){return e[t]>r[t]?-1:e[t]<r[t]?1:0}},createDB:function(){this.db=new o["a"](this.dbName)},createTable:function(){this.db.version(1).stores({txt:"++tid, sid, tag, date, last, head, body",srs:"++sid, tid, tag, date, color, head, body",tag:"++gid, tid, sid, head"})},addDataTxt:function(){this.db.txt.put({sid:null,tag:["日暮らし"],date:"2020/10/10",last:"2020/10/25",head:"徒然なるまゝに",body:"つれづれなるまゝに、日暮らし、硯にむかひて、心にうつりゆくよしなし事を、そこはかとなく書きつくれば、あやしうこそものぐるほしけれ。つれづれなるまゝに、日暮らし、硯にむかひて、心にうつりゆくよしなし事を、そこはかとなく書きつくれば、あやしうこそものぐるほしけれ。"}),this.db.txt.put({sid:1,tag:["徒然","日暮らし"],date:"2020/10/20",last:"2020/10/21",head:"日暮らし",body:"いでや、この世に生れては、願はしかるべき事こそ多かンめれ。<br>御門(みかど)の御位は、いともかしこし。竹の園生(そのふ)の、末葉(すゑば)まで人間の種ならぬぞ、やんごとなき。一(いち)の人の御有様はさらなり、たゞ人(びと)も、舎人(とねり)など給はるきはは、ゆゝしと見ゆ。その子・孫(むまご)までは、はふれにたれど、なほなまめかし。それより下(しも)つかたは、ほどにつけつゝ、時にあひ、したり顔なるも、みづからはいみじと思ふらめど、いとくちをし。"}),this.db.txt.put({sid:2,tag:[],date:"2020/10/30",last:"2020/10/30",head:"硯にむかひて",body:"因幡国(いなばのくに)に、何の入道とかやいふ者の娘、かたちよしと聞きて、人あまた言ひわたりけれども、この娘、たゞ、栗をのみ食ひて、更に、米(よね)の類を食はざりれば、「かゝる異様(ことやう)の者、人に見ゆべきにあらず」とて、親許さざりけり。"})},addDataSrs:function(){this.db.srs.put({tid:[2],tag:["徒然","日暮らし"],date:"2020/10/22",color:"#fdcfdb",head:"心にうつりゆく",body:"公世(きんよ)の二位にゐのせうとに、良覚僧正(りやうがくそうじやう)と聞えしは、極(きは)めて腹あしき人なりけり。"}),this.db.srs.put({tid:[3],tag:["硯"],date:"2020/10/20",color:"#145c8a",head:"よしなし事を",body:"能(のう)をつかんとする人、「よくせざらんほどは、なまじひに人に知(し)られじ。うちうちよく習ひ得(え)て、さし出(い)でたらんこそ、いと心にくからめ」と常に言ふめれど、かく言ふ人、一芸も習(なら)ひ得(う)ることなし。"})},addDataTag:function(){this.db.tag.put({tid:[1,2],sid:[1],head:"日暮らし"}),this.db.tag.put({tid:[2],sid:[1],head:"徒然"}),this.db.tag.put({tid:[],sid:[2],head:"硯"})},getDataTxt:function(t){var e=this;return new Promise((function(r){e.db.txt.get(t).then((function(t){r(t)}))}))},getDataTxtPromise:function(t){var e=this;return Object(a["a"])(regeneratorRuntime.mark((function r(){var s;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.next=2,e.getDataTxt(t);case 2:return s=r.sent,r.abrupt("return",s);case 4:case"end":return r.stop()}}),r)})))()},getDataSrs:function(t){var e=this;return new Promise((function(r){e.db.srs.get(t).then((function(t){r(t)}))}))},getDataSrsPromise:function(t){var e=this;return Object(a["a"])(regeneratorRuntime.mark((function r(){var s;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.next=2,e.getDataSrs(t);case 2:return s=r.sent,console.log(s),r.abrupt("return",s);case 5:case"end":return r.stop()}}),r)})))()},switchLoader:function(){this.loaderFlg=!this.loaderFlg,console.log(this.loaderFlg)},setToday:function(){this.now=new Date,this.now=new Date(this.now.getFullYear(),this.now.getMonth(),this.now.getDate()),this.nowTime=this.now.getTime(),this.setCurrent({year:this.now.getFullYear(),month:this.now.getMonth()})},setCurrent:function(t){this.current=new Date(t.year,t.month),this.currentYear=this.current.getFullYear(),this.currentMonth=this.current.getMonth()},setCalendarData:function(t){this.currentDates=t},setChangeMonth:function(t){this.changeMonthList=t,this.changeMonthBtnFlg=!!Object.keys(this.changeMonthList).length},switchChangeMonth:function(){this.menuListBtnFlg=!!this.changeMonthFlg,this.changeMonthFlg=!this.changeMonthFlg},switchMenuList:function(){this.changeMonthBtnFlg=!(!this.menuListFlg||!Object.keys(this.changeMonthList).length),this.menuListFlg=!this.menuListFlg},openPosts:function(t){this.markDate=t.date,this.$refs.posts.setPostsData(this.markDate),this.postsFlg=!0},closePosts:function(){this.postsFlg=!1},switchView:function(){this.viewFlg=!this.viewFlg},openViewTxtMark:function(t){this.$refs.view.setTxtData(Number(t),!0),this.viewFlg=!0},openViewSrsMark:function(t){this.$refs.view.setSrsData(Number(t),!0),this.viewFlg=!0},openEditTxtMark:function(t){console.log(t)},openEditMarkText:function(t){this.$refs.edit.setEditTxtData(t),this.editFlg=!0},closeEdit:function(t){this.editFlg=!1,this.postsFlg&&this.$refs.posts.setPostsData(this.markDate),this.viewFlg&&this.$refs.view.setTxtData(Number(t),!0)},openAnewField:function(t){this.currentField="anew",this.anewFieldFlg=!0,this.currentEdit=t,console.log("app",this.currentEdit)}},computed:{}}),Mr=Or,Fr=(r("034f"),Object(h["a"])(Mr,n,i,!1,null,null,null)),jr=Fr.exports;s["a"].config.productionTip=!1,new s["a"]({render:function(t){return t(jr)}}).$mount("#app")},"634f":function(t,e,r){"use strict";var s=r("d02b"),n=r.n(s);n.a},"85ec":function(t,e,r){},"9e34":function(t,e,r){},a0d9:function(t,e,r){},cf2f:function(t,e,r){"use strict";var s=r("4c73"),n=r.n(s);n.a},d02b:function(t,e,r){}});
//# sourceMappingURL=app.93141828.js.map